### 编写dockerfile.
FROM registry.cn-hangzhou.aliyuncs.com/sblockchain/node:1.0
WORKDIR /tmp
COPY package.json /tmp/
RUN npm install
WORKDIR /usr/src/app
COPY . /usr/src/app/
RUN cp -a /tmp/node_modules /usr/src/app/
RUN webpack
ENV NODE_ENV=production
ENV PORT=3000
CMD ["node", "./index.js"]
EXPOSE 3000

### jinkens 脚本:
```
pipeline {
    agent any
    stages {
        stage('Checkout'){
            steps {
                echo 'Checkout'
                checkout([$class: 'GitSCM', branches: [[name: env.BRANCH]], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: '60dace54-35f2-4e71-bca8-94d9869acf6b', url: 'http://118.31.229.16:9102/ChuangShiTeam/NowUI-Admin.git']]])
            }
        }
        stage('Image Build') {
            steps {
                echo 'Image Build'
                sh 'docker login --username=nowui@aliyun.com --password=shengli.2010 registry.cn-hangzhou.aliyuncs.com'
                sh 'docker build -t registry.cn-hangzhou.aliyuncs.com/nowui/nowui-admin .'
                sh 'docker push registry.cn-hangzhou.aliyuncs.com/nowui/nowui-admin'
            }
        }
        stage('Deploy') {
            steps{
            echo 'Deploy'
                script {
                    sh """
                    ssh root@${env.ENV_TAG} docker stop registry.cn-hangzhou.aliyuncs.com/nowui/nowui-admin
                    ssh root@${env.ENV_TAG} docker rm egistry.cn-hangzhou.aliyuncs.com/nowui/nowui-admin
                    ssh root@${env.ENV_TAG} docker pull registry.cn-hangzhou.aliyuncs.com/nowui/nowui-admin
                    ssh root@${env.ENV_TAG} docker run -d --name nowui-admin -p 3000:3000 registry.cn-hangzhou.aliyuncs.com/nowui/nowui-admin
                    """
                    echo '================结束远程启动================'
                }
            }
        }
        stage('Email') {
            steps{
                echo 'Email'
            }
        }
    }
}
```

### nginx 配置:
```
server {
    listen 443;
    server_name bjubi.com; // 你的域名
    ssl on;
    root /var/www/bjubi.com; // 前台文件存放文件夹，可改成别的
    index index.html index.htm;// 上面配置的文件夹里面的index.html
    ssl_certificate  cert/214292799730473.pem;// 改成你的证书的名字
    ssl_certificate_key cert/214292799730473.key;// 你的证书的名字
    ssl_session_timeout 5m;
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
    ssl_prefer_server_ciphers on;
    location / {
        index index.html index.htm;
    }
}
```

```
nginx 转发配置.
server {
        listen       80;
        server_name  www.b.com;
        location / {
            proxy_pass http://127.0.0.1:8088;
            proxy_set_header Host $proxy_host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Via "nginx";
        }   
}
```

### Linux 脚本:
```

```
